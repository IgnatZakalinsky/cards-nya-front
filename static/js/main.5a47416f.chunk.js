(this["webpackJsonpcards-nya-front"]=this["webpackJsonpcards-nya-front"]||[]).push([[0],{34:function(e,t,n){e.exports={inputNya:"InputNya_inputNya__rPNjN"}},35:function(e,t,n){e.exports={buttonNya:"ButtonNya_buttonNya__3htRf"}},36:function(e,t,n){e.exports={link:"LinkNya_link__LkYaC"}},39:function(e,t,n){e.exports=n(69)},44:function(e,t,n){},45:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(17),o=n.n(c),u=(n(44),n(45),n(9)),s=n(3),i=n(4),l=n(12),d=n(34),f=n.n(d),p=a.a.memo((function(e){var t=e.info,n=Object(l.a)(e,["info"]);return t&&console.log("render InputNya-"+t),a.a.createElement("input",Object.assign({className:f.a.inputNya},n))})),m=n(35),g=n.n(m),v=a.a.memo((function(e){var t=e.info,n=Object(l.a)(e,["info"]);return t&&console.log("render ButtonNya-"+t),a.a.createElement("button",Object.assign({className:g.a.buttonNya},n))})),b=a.a.memo((function(e){var t=e.email,n=e.setEmail,r=e.pass,c=e.setPass,o=e.remember,u=e.setRemember,s=e.signIn,i=e.loading;return console.log("render Login"),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(p,{info:"email",value:t,onChange:n})),a.a.createElement("div",null,a.a.createElement(p,{info:"pass",value:r,onChange:c})),a.a.createElement("div",null,a.a.createElement("label",null,a.a.createElement(p,{type:"checkbox",info:"remember",checked:o,onChange:u}),"remember me")),a.a.createElement("div",null,"forgot? (will be link)"),a.a.createElement("div",null,a.a.createElement(v,{info:"sign in",onClick:s,disabled:i},"sign in")))})),E=n(1),k=n.n(E),h=n(2),y=function(e){return{type:"login/SET_LOADING",loading:e}},O=function(e){return{type:"login/SET_SUCCESS",success:e}},w=function(e){return{type:"login/SET_ERROR",error:e}},j=n(5),x=function(e){return{type:"profile/SET_USER",user:e}},C=function(e){return{type:"profile/SET_TOKEN",token:e}},S=function(){var e=Object(h.a)(k.a.mark((function e(t,n,r,a){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:e.next=11;break;case 5:e.prev=5,e.t0=e.catch(0),c=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",e.t0.response&&t(C(e.t0.response.data.token)),r(c),console.log("Nya, "+a+" Error!",Object(j.a)({},e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),P=n(15),N=n.n(P),_=N.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),T={signIn:function(){var e=Object(h.a)(k.a.mark((function e(t,n,r){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/auth/login",{email:t,password:n,rememberMe:r});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},R=a.a.memo((function(){var e=Object(r.useState)("nya-admin@nya.nya"),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)("1qazxcvBG"),u=Object(i.a)(o,2),l=u[0],d=u[1],f=Object(r.useState)(!1),p=Object(i.a)(f,2),m=p[0],g=p[1],v=Object(r.useCallback)((function(e){return c(e.currentTarget.value)}),[c]),E=Object(r.useCallback)((function(e){return d(e.currentTarget.value)}),[d]),j=Object(r.useCallback)((function(e){return g(e.currentTarget.checked)}),[g]),C=Object(s.b)(),P=Object(r.useCallback)((function(){return C(function(e,t,n){return function(){var r=Object(h.a)(k.a.mark((function r(a,c){return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(y(!0)),r.next=3,S(a,Object(h.a)(k.a.mark((function r(){var c;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,T.signIn(e,t,n);case 2:(c=r.sent).error?(a(w(c.error)),console.log("Nya, Login Error!",c)):(a(O(!0)),a(x(c)),console.log("Nya, Login Success!",c));case 4:case"end":return r.stop()}}),r)}))),(function(e){return a(w(e))}),"Login");case 3:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}(n,l,m))}),[n,l,m,C]),N=Object(s.c)((function(e){return e.login})).loading;return console.log("render LoginContainer"),a.a.createElement(b,{email:n,setEmail:v,pass:l,setPass:E,remember:m,setRemember:j,signIn:P,loading:N})})),L=n(36),U=n.n(L),A=a.a.memo((function(e){var t=e.info,n=Object(l.a)(e,["info"]);return t&&console.log("render LinkNya-"+t),a.a.createElement(u.b,Object.assign({className:U.a.link},n))})),G=a.a.memo((function(e){var t=e.loading,n=e.success,r=e.error,c=e.first,o=e.info;return o&&console.log("render Status-"+o),c?a.a.createElement("div",null,a.a.createElement("br",null)):a.a.createElement(a.a.Fragment,null,t?a.a.createElement("div",{style:{color:"orange"}},"loading..."):r?a.a.createElement("div",{style:{color:"red"}},r):n?a.a.createElement("div",{style:{color:"lime"}},"Success!"):a.a.createElement("div",null,a.a.createElement("br",null)))})),I=a.a.memo((function(e){var t=e.first,n=Object(s.c)((function(e){return e.login})),r=n.loading,c=n.success,o=n.error;return console.log("render LoginStatus"),a.a.createElement(G,{loading:r,success:c,error:o,info:"login",first:t})})),M=n(10),D=function(){var e=Object(s.c)((function(e){return e.login})),t=e.success,n=e.error,c=Object(r.useState)(!1),o=Object(i.a)(c,2),u=o[0],l=o[1],d=Object(r.useState)(!0),f=Object(i.a)(d,2),p=f[0],m=f[1],g=Object(s.b)();return Object(r.useEffect)((function(){p&&t&&g(O(!1)),p&&n&&g(w("")),p&&m(!1),!t||p||u||setTimeout((function(){return l(!0)}),500)}),[p,t,n,g,m,u,l]),console.log("render LoginPage"),u&&t&&!p?a.a.createElement(M.a,{to:pe.PROFILE}):a.a.createElement("div",null,"login",a.a.createElement(I,{first:p}),a.a.createElement(R,null),a.a.createElement(A,{to:pe.REGISTER,info:"register in login"},"register"))},F=a.a.memo((function(e){var t=e.email,n=e.setEmail,r=e.pass,c=e.setPass,o=e.pass2,u=e.setPass2,s=e.signUp,i=e.loading;return console.log("render Register"),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(p,{info:"email",value:t,onChange:n})),a.a.createElement("div",null,a.a.createElement(p,{info:"pass",value:r,onChange:c})),a.a.createElement("div",null,a.a.createElement(p,{info:"pass confirm",value:o,onChange:u})),a.a.createElement("div",null,a.a.createElement(v,{info:"sign up",onClick:s,disabled:i},"sign up")))})),q=function(e){return{type:"register/SET_LOADING",loading:e}},B=function(e){return{type:"register/SET_SUCCESS",success:e}},K=function(e){return{type:"register/SET_ERROR",error:e}},z={signUp:function(){var e=Object(h.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/auth/register",{email:t,password:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},J=a.a.memo((function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),u=Object(i.a)(o,2),l=u[0],d=u[1],f=Object(r.useState)(""),p=Object(i.a)(f,2),m=p[0],g=p[1],v=Object(r.useCallback)((function(e){return c(e.currentTarget.value)}),[c]),b=Object(r.useCallback)((function(e){return d(e.currentTarget.value)}),[d]),E=Object(r.useCallback)((function(e){return g(e.currentTarget.value)}),[g]),y=Object(s.b)(),O=Object(r.useCallback)((function(){return y(function(e,t,n){return function(){var r=Object(h.a)(k.a.mark((function r(a,c){return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(q(!0)),r.next=3,S(a,Object(h.a)(k.a.mark((function r(){var c;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t===n){r.next=4;break}a(K("Passwords don't match!")),r.next=8;break;case 4:return r.next=6,z.signUp(e,t);case 6:(c=r.sent).error?(a(K(c.error)),console.log("Nya, Register Error!",c)):(a(B(!0)),console.log("Nya, Register Success!",c));case 8:case"end":return r.stop()}}),r)}))),(function(e){return a(K(e))}),"Register");case 3:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}(n,l,m))}),[n,l,m,y]),w=Object(s.c)((function(e){return e.register})).loading;return console.log("render RegisterContainer"),a.a.createElement(F,{email:n,setEmail:v,pass:l,setPass:b,pass2:m,setPass2:E,signUp:O,loading:w})})),W=a.a.memo((function(e){var t=e.first,n=Object(s.c)((function(e){return e.register})),r=n.loading,c=n.success,o=n.error;return console.log("render RegisterStatus"),a.a.createElement(G,{loading:r,success:c,error:o,info:"register",first:t})})),H=function(){var e=Object(s.c)((function(e){return e.register})),t=e.success,n=e.error,c=Object(r.useState)(!1),o=Object(i.a)(c,2),u=o[0],l=o[1],d=Object(r.useState)(!0),f=Object(i.a)(d,2),p=f[0],m=f[1],g=Object(s.b)();return Object(r.useEffect)((function(){p&&t&&g(B(!1)),p&&n&&g(K("")),p&&m(!1),!t||p||u||setTimeout((function(){return l(!0)}),500)}),[p,t,n,g,m,u,l]),console.log("render RegisterPage"),u&&t&&!p?a.a.createElement(M.a,{to:pe.LOGIN}):a.a.createElement("div",null,"register",a.a.createElement(W,{first:p}),a.a.createElement(J,null),a.a.createElement(A,{to:pe.LOGIN,info:"login in register"},"login"))},Y={updateUser:function(){var e=Object(h.a)(k.a.mark((function e(t,n,r){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.put("/auth/me",{token:t,name:n,avatar:r});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),getUsers:function(){var e=Object(h.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/social/users?token=".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sendGeneralChatMessage:function(){var e=Object(h.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/social/general/message",{token:t,message:"some message"});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getGeneralChatMessages:function(){var e=Object(h.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/social/general/message?token=".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$=function(){var e=Object(s.c)((function(e){return e.profile})).user,t=Object(s.b)();return console.log("render ProfilePage"),a.a.createElement("div",null,"ProfilePage",a.a.createElement("div",null,e.name),a.a.createElement("div",null,"xy"),a.a.createElement("div",null,a.a.createElement(v,{onClick:function(){return t((e="nya",n="some avatar",function(){var t=Object(h.a)(k.a.mark((function t(r,a){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a().profile.user.token,t.next=3,S(r,Object(h.a)(k.a.mark((function t(){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.updateUser(c,e,n);case 2:(a=t.sent).error?console.log("Nya, updatePack Error!",a):(r(C(a.token)),console.log("Nya, updateUser Success!",a));case 4:case"end":return t.stop()}}),t)}))),(function(e){}),"updateUser");case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));var e,n}},"set name"),a.a.createElement(v,{onClick:function(){return t(function(){var e=Object(h.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().profile.user.token,e.next=3,S(t,Object(h.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.getUsers(r);case 2:(n=e.sent).error?console.log("Nya, getUsers Error!",n):(t(C(n.token)),console.log("Nya, getUsers Success!",n));case 4:case"end":return e.stop()}}),e)}))),(function(e){}),"getUsers");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}},"get users"),a.a.createElement(v,{onClick:function(){return t(function(){var e=Object(h.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().profile.user.token,e.next=3,S(t,Object(h.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.sendGeneralChatMessage(r);case 2:(n=e.sent).error?console.log("Nya, sendGeneralChatMessage Error!",n):(t(C(n.token)),console.log("Nya, sendGeneralChatMessage Success!",n));case 4:case"end":return e.stop()}}),e)}))),(function(e){}),"sendGeneralChatMessage");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}},"send message"),a.a.createElement(v,{onClick:function(){return t(function(){var e=Object(h.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().profile.user.token,e.next=3,S(t,Object(h.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.getGeneralChatMessages(r);case 2:(n=e.sent).error?console.log("Nya, getGeneralChatMessages Error!",n):(t(C(n.token)),console.log("Nya, getGeneralChatMessages Success!",n));case 4:case"end":return e.stop()}}),e)}))),(function(e){}),"getGeneralChatMessages");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}},"get messages")))},Q={getPacks:function(){var e=Object(h.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/cards/pack?token=".concat(t)+"&pageCount=1000");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addPack:function(){var e=Object(h.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/cards/pack",{token:t,cardsPack:{deckCover:"some cover"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updatePack:function(){var e=Object(h.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.put("/cards/pack",{token:t,cardsPack:{_id:n,name:"update new"}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deletePack:function(){var e=Object(h.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.delete("/cards/pack?token=".concat(t,"&id=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},V=function(e){return{type:"packs/SET_PACKS",packs:e}},X=function(){return function(){var e=Object(h.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().profile.user.token,e.next=3,S(t,Object(h.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.getPacks(r);case 2:(n=e.sent).error?console.log("Nya, getPacks Error!",n):(t(V(n.cardPacks)),t(C(n.token)),console.log("Nya, getPacks Success!",n));case 4:case"end":return e.stop()}}),e)}))),(function(e){}),"getPacks");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Z=function(e){var t=e.loading,n=void 0!==t&&t,r=e.title,c=void 0===r?"table":r,o=e.model,u=e.data,s=e.headerStyle,i=e.tableStyle,l=e.rowsStyle,d=e.rowStyle;return a.a.createElement("div",{style:Object(j.a)({margin:"0 10px"},i)},c,a.a.createElement("div",{style:Object(j.a)({border:"1px solid red",width:"100%",display:"flex"},s)},o.map((function(e,t){return e.title(t,n)}))),a.a.createElement("div",{style:Object(j.a)({border:"1px solid lime",width:"100%"},l)},u.map((function(e,t){return a.a.createElement("div",{key:c+"-row-"+(e._id||t),style:Object(j.a)({width:"100%",display:"flex"},d)},o.map((function(r,a){return r.render(e,a,t,n)})))}))))},ee=a.a.memo((function(){var e=Object(s.c)((function(e){return e.packs})).packs,t=Object(s.b)();Object(r.useEffect)((function(){return console.log("PacksContainer useEffect"),t(X()),function(){console.log("PacksContainer useEffect off")}}),[t]);var n,c,o,u=(n=function(){return t(function(){var e=Object(h.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().profile.user.token,e.next=3,S(t,Object(h.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.addPack(r);case 2:(n=e.sent).error?console.log("Nya, addPack Error!",n):(t(C(n.token)),t(X()),console.log("Nya, addPack Success!",n));case 4:case"end":return e.stop()}}),e)}))),(function(e){}),"addPack");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},c=function(e){return t(function(e){return function(){var t=Object(h.a)(k.a.mark((function t(n,r){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().profile.user.token,t.next=3,S(n,Object(h.a)(k.a.mark((function t(){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.deletePack(a,e);case 2:(r=t.sent).error?console.log("Nya, deletePack Error!",r):(n(C(r.token)),n(X()),console.log("Nya, deletePack Success!",r));case 4:case"end":return t.stop()}}),t)}))),(function(e){}),"deletePack");case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(e))},o=function(e){return t(function(e){return function(){var t=Object(h.a)(k.a.mark((function t(n,r){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().profile.user.token,t.next=3,S(n,Object(h.a)(k.a.mark((function t(){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.updatePack(a,e);case 2:(r=t.sent).error?console.log("Nya, updatePack Error!",r):(n(C(r.token)),n(X()),console.log("Nya, updatePack Success!",r));case 4:case"end":return t.stop()}}),t)}))),(function(e){}),"updatePack");case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(e))},[{title:function(e,t){return a.a.createElement("div",{key:"name-title-"+e,style:{width:150}},"Name")},render:function(e,t,n,r){return a.a.createElement("div",{key:"name-cell-"+e._id,style:{width:150}},e.name)}},{title:function(e,t){return a.a.createElement("div",{key:"grade-title-"+e,style:{width:150}},"Grade")},render:function(e,t,n,r){return a.a.createElement("div",{key:"grade-cell-"+e._id,style:{width:150}},e.grade)}},{title:function(e,t){return a.a.createElement("div",{key:"buttons-title-"+e,style:{width:150}},a.a.createElement(v,{onClick:n},"add"))},render:function(e,t,n,r){return a.a.createElement("div",{key:"buttons-cell-"+e._id,style:{width:250}},a.a.createElement(v,{onClick:function(){return c(e._id)}},"del"),a.a.createElement(v,{onClick:function(){return o(e._id)}},"update"),a.a.createElement(A,{to:pe.CARDS+"/"+e._id},"cards"),a.a.createElement(A,{to:pe.LEARN+"/"+e._id},"learn"))}}]);return console.log("render PacksContainer"),a.a.createElement("div",null,a.a.createElement(Z,{model:u,data:e,title:"CardPacks"}))})),te=function(){return console.log("render PacksPage"),a.a.createElement("div",null,"PacksPage",a.a.createElement(ee,null))},ne={getCards:function(){var e=Object(h.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/cards/card?token=".concat(t,"&cardsPack_id=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),addCard:function(){var e=Object(h.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/cards/card",{token:t,card:{cardsPack_id:n,question:"new!",grade:5*Math.random(),questionImg:"some img"}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),updateCard:function(){var e=Object(h.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.put("/cards/card",{token:t,card:{_id:n,question:"updated question",answerImg:"some answer img"}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deleteCard:function(){var e=Object(h.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.delete("/cards/card?token=".concat(t,"&id=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},re=function(e){return{type:"cards/SET_CARDS",cards:e}},ae=function(e){return function(){var t=Object(h.a)(k.a.mark((function t(n,r){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().profile.user.token,t.next=3,S(n,Object(h.a)(k.a.mark((function t(){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne.getCards(a,e);case 2:(r=t.sent).error?console.log("Nya, getCards Error!",r):(n(re(r.cards)),n(C(r.token)),console.log("Nya, getCards Success!",r));case 4:case"end":return t.stop()}}),t)}))),(function(e){}),"getCards");case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},ce=a.a.memo((function(){var e=Object(s.c)((function(e){return e.cards})).cards,t=Object(M.g)().id,n=Object(s.b)();Object(r.useEffect)((function(){return console.log("PacksContainer useEffect"),n(ae(t)),function(){console.log("PacksContainer useEffect off")}}),[n,t]);var c,o,u,i=(c=function(){return n(function(e){return function(){var t=Object(h.a)(k.a.mark((function t(n,r){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().profile.user.token,t.next=3,S(n,Object(h.a)(k.a.mark((function t(){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne.addCard(a,e);case 2:(r=t.sent).error?console.log("Nya, addCard Error!",r):(n(C(r.token)),n(ae(e)),console.log("Nya, addCard Success!",r));case 4:case"end":return t.stop()}}),t)}))),(function(e){}),"addCard");case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))},o=function(e){return n(function(e,t){return function(){var n=Object(h.a)(k.a.mark((function n(r,a){var c;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=a().profile.user.token,n.next=3,S(r,Object(h.a)(k.a.mark((function n(){var a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ne.deleteCard(c,e);case 2:(a=n.sent).error?console.log("Nya, deleteCard Error!",a):(r(C(a.token)),r(ae(t)),console.log("Nya, deleteCard Success!",a));case 4:case"end":return n.stop()}}),n)}))),(function(e){}),"deleteCard");case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(e,t))},u=function(e){return n(function(e,t){return function(){var n=Object(h.a)(k.a.mark((function n(r,a){var c;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=a().profile.user.token,n.next=3,S(r,Object(h.a)(k.a.mark((function n(){var a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ne.updateCard(c,e);case 2:(a=n.sent).error?console.log("Nya, updateCard Error!",a):(r(C(a.token)),r(ae(t)),console.log("Nya, updateCard Success!",a));case 4:case"end":return n.stop()}}),n)}))),(function(e){}),"updateCard");case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(e,t))},[{title:function(e,t){return a.a.createElement("div",{key:"question-title-"+e,style:{width:150}},"question")},render:function(e,t,n,r){return a.a.createElement("div",{key:"question-cell-"+e._id,style:{width:150}},e.question)}},{title:function(e,t){return a.a.createElement("div",{key:"answer-title-"+e,style:{width:150}},"answer")},render:function(e,t,n,r){return a.a.createElement("div",{key:"answer-cell-"+e._id,style:{width:150}},e.answer)}},{title:function(e,t){return a.a.createElement("div",{key:"grade-title-"+e,style:{width:150}},"Grade")},render:function(e,t,n,r){return a.a.createElement("div",{key:"grade-cell-"+e._id,style:{width:150}},e.grade)}},{title:function(e,t){return a.a.createElement("div",{key:"buttons-title-"+e,style:{width:150}},a.a.createElement(v,{onClick:c},"add"))},render:function(e,t,n,r){return a.a.createElement("div",{key:"buttons-cell-"+e._id,style:{width:250}},a.a.createElement(v,{onClick:function(){return o(e._id)}},"del"),a.a.createElement(v,{onClick:function(){return u(e._id)}},"update"))}}]);return console.log("render CardsContainer, id:"+t),a.a.createElement("div",null,a.a.createElement(Z,{model:i,data:e,title:"Cards"}))})),oe=function(){return console.log("render CardsPage"),a.a.createElement("div",null,"PacksPage",a.a.createElement(ce,null))},ue=["\u043d\u0435 \u0437\u043d\u0430\u043b","\u0437\u0430\u0431\u044b\u043b","\u0434\u043e\u043b\u0433\u043e \u0434\u0443\u043c\u0430\u043b","\u043f\u0435\u0440\u0435\u043f\u0443\u0442\u0430\u043b","\u0437\u043d\u0430\u043b"],se=function(e){var t=e.reduce((function(e,t){return e+(6-t.grade)*(6-t.grade)}),0),n=Math.random()*t,r=e.reduce((function(e,t,r){var a=e.sum+(6-t.grade)*(6-t.grade);return{sum:a,id:a<n?r:e.id}}),{sum:0,id:-1});return console.log("test: ",t,n,r),e[r.id+1]},ie=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(!0),u=Object(i.a)(o,2),l=u[0],d=u[1],f=Object(s.c)((function(e){return e.cards})).cards,p=Object(M.g)().id,m=Object(r.useState)({_id:"fake",cardsPack_id:"",answer:"answer fake",question:"question fake",grade:0,shots:0,type:"",rating:0,more_id:"",created:"",updated:""}),g=Object(i.a)(m,2),b=g[0],E=g[1],k=Object(s.b)();Object(r.useEffect)((function(){return console.log("LearnContainer useEffect"),l&&(k(ae(p)),d(!1)),console.log("cards",f),f.length>0&&E(se(f)),function(){console.log("LearnContainer useEffect off")}}),[k,p,f,l]);return console.log("render LearnPage"),a.a.createElement("div",null,"LearnPage",a.a.createElement("div",null,b.question),a.a.createElement("div",null,a.a.createElement(v,{onClick:function(){return c(!0)}},"check")),n&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,b.answer),ue.map((function(e,t){return a.a.createElement(v,{key:"grade-"+t,onClick:function(){}},e)})),a.a.createElement("div",null,a.a.createElement(v,{onClick:function(){c(!1),f.length>0&&E(se(f))}},"next"))))},le=n(16),de=function(){return console.log("render TestMapPage"),a.a.createElement("div",null,"TestMapPage",a.a.createElement(le.c,null,a.a.createElement("div",null,"map div",a.a.createElement(le.a,{defaultState:{center:[55.75,37.57],zoom:9},onClick:function(e){return console.log(e.get("coords"))}},a.a.createElement(le.b,{geometry:[55.684758,37.738521]}))),a.a.createElement(le.a,{defaultState:{center:[55.75,37.57],zoom:9}})))},fe=function(){var e=Object(r.useRef)(null),t=Object(r.useState)(!1),n=Object(i.a)(t,2),c=n[0],o=n[1],u=Object(r.useState)(!0),s=Object(i.a)(u,2),l=s[0],d=s[1],f=Object(r.useState)(""),p=Object(i.a)(f,2),m=p[0],g=p[1],v=Object(r.useState)(),b=Object(i.a)(v,2),E=b[0],k=b[1],h=Object(r.useState)(),y=Object(i.a)(h,2),O=(y[0],y[1]),w=Object(r.useState)(),j=Object(i.a)(w,2),x=j[0],C=j[1],S=Object(r.useState)(),P=Object(i.a)(S,2),_=P[0],T=P[1];return console.log("render TestPage"),a.a.createElement("div",null,"TestPage FileInput",a.a.createElement("input",{type:"file",accept:".jpg, .jpeg, .png",multiple:!0}),a.a.createElement("hr",{style:{width:"100%"}}),a.a.createElement("label",null,"reader",a.a.createElement("input",{type:"checkbox",checked:c,onChange:function(e){return o(e.currentTarget.checked)}})),a.a.createElement("label",null,"base64",a.a.createElement("input",{type:"checkbox",checked:l,onChange:function(e){return d(e.currentTarget.checked)}})),a.a.createElement("img",{src:x,alt:"file",width:"300px"}),a.a.createElement("div",null,"name: ",E&&E.name),a.a.createElement("div",null,"lastModified: ",E&&E.lastModified),a.a.createElement("div",null,"type: ",E&&E.type),a.a.createElement("input",{ref:e,type:"file",style:{display:"none"},onChange:function(e){var t=new FileReader,n=new FormData,r=e.target.files&&e.target.files[0];r&&(k(r),O(window.URL.createObjectURL(r)),n.append("myFile",r,r.name),T(n),c&&(t.onloadend=function(){C(t.result)},l?t.readAsDataURL(r):t.readAsText(r)))}}),a.a.createElement("button",{onClick:function(){return e&&e.current&&e.current.click()}},"add"),a.a.createElement("hr",{style:{width:"100%"}}),a.a.createElement("textarea",{value:m,onChange:function(e){return g(e.currentTarget.value)}}),a.a.createElement("pre",null,x),a.a.createElement("button",{onClick:function(){return function(e,t){var n=document.createElement("a");n.href="data:text/plain;content-disposition=attachment;filename=file,"+t,n.download=e,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("Text.txt",m+"\r\n"+x)}},"save"),a.a.createElement("button",{onClick:function(){N.a.post("https://dry-forest-56016.herokuapp.com/file",_)}},"send"),a.a.createElement("button",{onClick:function(){return e="https://dry-forest-56016.herokuapp.com/file",t="newFile.jpg",void N.a.get(e,{responseType:"blob"}).then((function(e){var n=e.data,r=new Blob([n],{type:"image/jpeg"});console.log(r);var a=window.URL.createObjectURL(r),c=document.createElement("a");c.href=a,c.setAttribute("download",t),document.body.appendChild(c),c.click(),c.remove()}));var e,t}},"get"))},pe={LOGIN:"/login",REGISTER:"/register",PROFILE:"/profile",PACKS:"/packs",CARDS:"/cards",LEARN:"/learn",TEST_MAP:"/test-map",TEST:"/text"},me=[{id:0,title:"login",path:pe.LOGIN,exact:!0,page:function(){return a.a.createElement(D,null)}},{id:1,title:"register",path:pe.REGISTER,exact:!0,page:function(){return a.a.createElement(H,null)}},{id:2,title:"profile",path:pe.PROFILE,exact:!0,page:function(){return a.a.createElement($,null)}},{id:3,title:"packs",path:pe.PACKS,exact:!0,page:function(){return a.a.createElement(te,null)}},{id:4,title:"cards",path:pe.CARDS,params:"/:id",exact:!0,page:function(){return a.a.createElement(oe,null)}},{id:5,title:"learn",path:pe.LEARN,params:"/:id",exact:!0,page:function(){return a.a.createElement(ie,null)}},{id:6,title:"test map",path:pe.TEST_MAP,exact:!0,page:function(){return a.a.createElement(de,null)}},{id:6,title:"test",path:pe.TEST,exact:!0,page:function(){return a.a.createElement(fe,null)}},{id:9999,title:"error404",page:function(){return a.a.createElement("div",null,"error404")}}],ge=me.map((function(e){return a.a.createElement(A,{key:"navLink-"+e.id,to:(e.path||"")+(e.params?"/1":""),info:"navLink-"+e.id},e.title)})),ve=function(){return console.log("render DevHeader"),a.a.createElement(a.a.Fragment,null,ge)},be=me.map((function(e){return a.a.createElement(M.b,{key:"route-"+e.id,path:e.path&&e.path+(e.params||""),exact:e.exact,render:e.page})})),Ee=function(){return console.log("render Routes"),a.a.createElement(M.d,null,be)},ke=function(){return console.log("render Main"),a.a.createElement(a.a.Fragment,null,a.a.createElement(ve,null),a.a.createElement(Ee,null))},he=n(13),ye=n(38),Oe={loading:!1,success:!1,error:""},we={loading:!1,success:!1,error:""},je={loading:!1,success:!1,error:"",user:{_id:"0",email:"",rememberMe:!1,isAdmin:!1,name:"fake",verified:!1,token:"",tokenDeathTime:0,created:new Date,updated:new Date}},xe={packs:[]},Ce={cards:[]},Se=Object(he.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET_ERROR":return Object(j.a)({},e,{error:t.error,loading:!1,success:!1});case"login/SET_LOADING":return Object(j.a)({},e,{error:"",loading:t.loading,success:!1});case"login/SET_SUCCESS":return Object(j.a)({},e,{error:"",loading:!1,success:t.success});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register/SET_ERROR":return Object(j.a)({},e,{error:t.error,loading:!1,success:!1});case"register/SET_LOADING":return Object(j.a)({},e,{error:"",loading:t.loading,success:!1});case"register/SET_SUCCESS":return Object(j.a)({},e,{error:"",loading:!1,success:t.success});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET_USER":return Object(j.a)({},e,{user:t.user});case"profile/SET_TOKEN":return Object(j.a)({},e,{user:Object(j.a)({},e.user,{token:t.token})});default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"packs/SET_PACKS":return Object(j.a)({},e,{packs:t.packs});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"cards/SET_CARDS":return Object(j.a)({},e,{cards:t.cards});default:return e}}}),Pe=Object(he.d)(Se,Object(he.a)(ye.a)),Ne=Pe;window.store=Pe;var _e=function(){return console.log("render App"),a.a.createElement("div",{className:"App"},a.a.createElement(u.a,null,a.a.createElement(s.a,{store:Ne},a.a.createElement(ke,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(_e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.5a47416f.chunk.js.map