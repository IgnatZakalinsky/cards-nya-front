(this["webpackJsonpcards-nya-front"]=this["webpackJsonpcards-nya-front"]||[]).push([[0],{32:function(e,t,n){e.exports={inputNya:"InputNya_inputNya__rPNjN"}},33:function(e,t,n){e.exports={buttonNya:"ButtonNya_buttonNya__3htRf"}},35:function(e,t,n){e.exports={link:"LinkNya_link__LkYaC"}},38:function(e,t,n){e.exports=n(68)},43:function(e,t,n){},44:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(15),o=n.n(c),s=(n(43),n(44),n(10)),i=n(2),l=n(3),u=n(12),m=n(32),f=n.n(m),g=a.a.memo((function(e){var t=e.info,n=Object(u.a)(e,["info"]);return t&&console.log("render InputNya-"+t),a.a.createElement("input",Object.assign({className:f.a.inputNya},n))})),d=n(33),p=n.n(d),E=a.a.memo((function(e){var t=e.info,n=Object(u.a)(e,["info"]);return t&&console.log("render ButtonNya-"+t),a.a.createElement("button",Object.assign({className:p.a.buttonNya},n))})),b=a.a.memo((function(e){var t=e.email,n=e.setEmail,r=e.pass,c=e.setPass,o=e.remember,s=e.setRemember,i=e.signIn;return console.log("render Login"),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(g,{info:"email",value:t,onChange:n})),a.a.createElement("div",null,a.a.createElement(g,{info:"pass",value:r,onChange:c})),a.a.createElement("div",null,a.a.createElement("label",null,a.a.createElement(g,{type:"checkbox",info:"remember",checked:o,onChange:s}),"remember me")),a.a.createElement("div",null,"forgot? (will be link)"),a.a.createElement("div",null,a.a.createElement(E,{info:"sign in",onClick:i},"sign in")))})),v=n(1),O=n.n(v),j=n(6),h=function(e){return{type:"login/SET_LOADING",loading:e}},S=function(e){return{type:"login/SET_SUCCESS",success:e}},y=function(e){return{type:"login/SET_ERROR",error:e}},k=n(7),R=function(){var e=Object(j.a)(O.a.mark((function e(t,n,r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),n(e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console"),console.log("Nya, "+r+" Error!",Object(k.a)({},e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r){return e.apply(this,arguments)}}(),w=n(34),N=n.n(w).a.create({baseURL:"http://localhost:7542/"}),x={signIn:function(){var e=Object(j.a)(O.a.mark((function e(t,n,r){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post("/auth/login",{email:t,password:n,rememberMe:r});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},C=function(e){return{type:"profile/SET_USER",user:e}},T=a.a.memo((function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),s=Object(l.a)(o,2),u=s[0],m=s[1],f=Object(r.useState)(!1),g=Object(l.a)(f,2),d=g[0],p=g[1],E=Object(r.useCallback)((function(e){return c(e.currentTarget.value)}),[c]),v=Object(r.useCallback)((function(e){return m(e.currentTarget.value)}),[m]),k=Object(r.useCallback)((function(e){return p(e.currentTarget.checked)}),[p]),w=Object(i.b)(),N=Object(r.useCallback)((function(){return w(function(e,t,n){return function(){var r=Object(j.a)(O.a.mark((function r(a,c){return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(h(!0)),r.next=3,R(Object(j.a)(O.a.mark((function r(){var c;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x.signIn(e,t,n);case 2:(c=r.sent).error?(a(y(c.error)),console.log("Nya, Login Error!",c)):(a(S(!0)),a(C(c)),console.log("Nya, Login Success!",c));case 4:case"end":return r.stop()}}),r)}))),(function(e){return a(y(e))}),"Login");case 3:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}(n,u,d))}),[n,u,d,w]);return console.log("render LoginContainer"),a.a.createElement(b,{email:n,setEmail:E,pass:u,setPass:v,remember:d,setRemember:k,signIn:N})})),L=n(35),_=n.n(L),I=a.a.memo((function(e){var t=e.info,n=Object(u.a)(e,["info"]);return t&&console.log("render LinkNya-"+t),a.a.createElement(s.b,Object.assign({className:_.a.link},n))})),P=a.a.memo((function(e){var t=e.loading,n=e.success,r=e.error,c=e.first,o=e.info;return o&&console.log("render Status-"+o),c?a.a.createElement("div",null,a.a.createElement("br",null)):a.a.createElement(a.a.Fragment,null,t?a.a.createElement("div",{style:{color:"orange"}},"loading..."):r?a.a.createElement("div",{style:{color:"red"}},r):n?a.a.createElement("div",{style:{color:"lime"}},"Success!"):a.a.createElement("div",null,a.a.createElement("br",null)))})),G=a.a.memo((function(e){var t=e.first,n=Object(i.c)((function(e){return e.login})),r=n.loading,c=n.success,o=n.error;return console.log("render LoginStatus"),a.a.createElement(P,{loading:r,success:c,error:o,info:"login",first:t})})),U=n(9),D=function(){var e=Object(i.c)((function(e){return e.login})),t=e.success,n=e.error,c=Object(r.useState)(!1),o=Object(l.a)(c,2),s=o[0],u=o[1],m=Object(r.useState)(!0),f=Object(l.a)(m,2),g=f[0],d=f[1],p=Object(i.b)();return Object(r.useEffect)((function(){g&&t&&p(S(!1)),g&&n&&p(y("")),g&&d(!1),!t||g||s||setTimeout((function(){return u(!0)}),500)}),[g,t,n,p,d,s,u]),console.log("render LoginPage"),s&&t&&!g?a.a.createElement(U.a,{to:q.PROFILE}):a.a.createElement("div",null,"login",a.a.createElement(G,{first:g}),a.a.createElement(T,null),a.a.createElement(I,{to:q.REGISTER,info:"register in login"},"register"))},F=a.a.memo((function(e){var t=e.email,n=e.setEmail,r=e.pass,c=e.setPass,o=e.pass2,s=e.setPass2,i=e.signUp;return console.log("render Register"),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(g,{info:"email",value:t,onChange:n})),a.a.createElement("div",null,a.a.createElement(g,{info:"pass",value:r,onChange:c})),a.a.createElement("div",null,a.a.createElement(g,{info:"pass confirm",value:o,onChange:s})),a.a.createElement("div",null,a.a.createElement(E,{info:"sign up",onClick:i},"sign up")))})),A=function(e){return{type:"register/SET_LOADING",loading:e}},B=function(e){return{type:"register/SET_SUCCESS",success:e}},M=function(e){return{type:"register/SET_ERROR",error:e}},J={signUp:function(){var e=Object(j.a)(O.a.mark((function e(t,n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post("/auth/register",{email:t,password:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},W=a.a.memo((function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),s=Object(l.a)(o,2),u=s[0],m=s[1],f=Object(r.useState)(""),g=Object(l.a)(f,2),d=g[0],p=g[1],E=Object(r.useCallback)((function(e){return c(e.currentTarget.value)}),[c]),b=Object(r.useCallback)((function(e){return m(e.currentTarget.value)}),[m]),v=Object(r.useCallback)((function(e){return p(e.currentTarget.value)}),[p]),h=Object(i.b)(),S=Object(r.useCallback)((function(){return h(function(e,t,n){return function(){var r=Object(j.a)(O.a.mark((function r(a,c){return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(A(!0)),r.next=3,R(Object(j.a)(O.a.mark((function r(){var c;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t===n){r.next=4;break}a(M("Passwords don't match!")),r.next=8;break;case 4:return r.next=6,J.signUp(e,t);case 6:(c=r.sent).error?(a(M(c.error)),console.log("Nya, Register Error!",c)):(a(B(!0)),console.log("Nya, Register Success!",c));case 8:case"end":return r.stop()}}),r)}))),(function(e){return a(M(e))}),"Register");case 3:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}(n,u,d))}),[n,u,d,h]);return console.log("render RegisterContainer"),a.a.createElement(F,{email:n,setEmail:E,pass:u,setPass:b,pass2:d,setPass2:v,signUp:S})})),H=a.a.memo((function(e){var t=e.first,n=Object(i.c)((function(e){return e.register})),r=n.loading,c=n.success,o=n.error;return console.log("render RegisterStatus"),a.a.createElement(P,{loading:r,success:c,error:o,info:"register",first:t})})),Y=function(){var e=Object(i.c)((function(e){return e.register})),t=e.success,n=e.error,c=Object(r.useState)(!1),o=Object(l.a)(c,2),s=o[0],u=o[1],m=Object(r.useState)(!0),f=Object(l.a)(m,2),g=f[0],d=f[1],p=Object(i.b)();return Object(r.useEffect)((function(){g&&t&&p(B(!1)),g&&n&&p(M("")),g&&d(!1),!t||g||s||setTimeout((function(){return u(!0)}),500)}),[g,t,n,p,d,s,u]),console.log("render RegisterPage"),s&&t&&!g?a.a.createElement(U.a,{to:q.LOGIN}):a.a.createElement("div",null,"register",a.a.createElement(H,{first:g}),a.a.createElement(W,null),a.a.createElement(I,{to:q.LOGIN,info:"login in register"},"login"))},$=function(){var e=Object(i.c)((function(e){return e.profile})).user;return console.log("render ProfilePage"),a.a.createElement("div",null,"ProfilePage",a.a.createElement("div",null,e.name))},q={LOGIN:"/login",REGISTER:"/register",PROFILE:"/profile"},z=[{id:0,title:"login",path:q.LOGIN,exact:!0,page:function(){return a.a.createElement(D,null)}},{id:1,title:"register",path:q.REGISTER,exact:!0,page:function(){return a.a.createElement(Y,null)}},{id:2,title:"profile",path:q.PROFILE,exact:!0,page:function(){return a.a.createElement($,null)}},{id:9999,title:"error404",page:function(){return a.a.createElement("div",null,"error404")}}],K=z.map((function(e){return a.a.createElement(I,{key:"navLink-"+e.id,to:(e.path||"")+(e.params?"/1":""),info:"navLink-"+e.id},e.title)})),Q=function(){return console.log("render DevHeader"),a.a.createElement(a.a.Fragment,null,K)},V=z.map((function(e){return a.a.createElement(U.b,{key:"route-"+e.id,path:e.path&&e.path+(e.params||""),exact:e.exact,render:e.page})})),X=function(){return console.log("render Routes"),a.a.createElement(U.d,null,V)},Z=function(){return console.log("render Main"),a.a.createElement(a.a.Fragment,null,a.a.createElement(Q,null),a.a.createElement(X,null))},ee=n(13),te=n(37),ne={loading:!1,success:!1,error:""},re={loading:!1,success:!1,error:""},ae={loading:!1,success:!1,error:"",user:{_id:"0",email:"",rememberMe:!1,isAdmin:!1,name:"fake",verified:!1,token:"",tokenDeathTime:0,created:new Date,updated:new Date}},ce=Object(ee.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET_ERROR":return Object(k.a)({},e,{error:t.error,loading:!1,success:!1});case"login/SET_LOADING":return Object(k.a)({},e,{error:"",loading:t.loading,success:!1});case"login/SET_SUCCESS":return Object(k.a)({},e,{error:"",loading:!1,success:t.success});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register/SET_ERROR":return Object(k.a)({},e,{error:t.error,loading:!1,success:!1});case"register/SET_LOADING":return Object(k.a)({},e,{error:"",loading:t.loading,success:!1});case"register/SET_SUCCESS":return Object(k.a)({},e,{error:"",loading:!1,success:t.success});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET_USER":return Object(k.a)({},e,{user:t.user});default:return e}}}),oe=Object(ee.d)(ce,Object(ee.a)(te.a)),se=oe;window.store=oe;var ie=function(){return console.log("render App"),a.a.createElement("div",{className:"App"},a.a.createElement(s.a,null,a.a.createElement(i.a,{store:se},a.a.createElement(Z,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.02065ac1.chunk.js.map